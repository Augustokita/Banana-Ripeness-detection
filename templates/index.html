<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SignIn&SignUp</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}" />
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <!-- Flash Messages -->
    <div class="flash-messages">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>

    <div class="container">
      <div class="forms-container">
        <div class="signin-signup">
          <!-- Sign In Form -->
          <form action="/signin" method="POST" class="sign-in-form">
            <h2 class="title">Sign In</h2>
            <div class="input-field">
              <i class="fas fa-user"></i>
              <input type="text" name="username" placeholder="Username" required />
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input type="password" name="password" placeholder="Password" required />
            </div>
            <input type="submit" value="Login" class="btn solid" />
          </form>

          <!-- Sign Up Form -->
          <form action="/signup" method="POST" class="sign-up-form">
            <h2 class="title">Sign Up</h2>
            <div class="input-field">
              <i class="fas fa-user"></i>
              <input type="text" name="username" placeholder="Username" required />
            </div>
            <div class="input-field">
              <i class="fas fa-envelope"></i>
              <input type="email" name="email" placeholder="Email" required />
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input type="password" name="password" placeholder="Password" required />
            </div>
            <input type="submit" value="Sign Up" class="btn solid" />
          </form>
        </div>
      </div>

      <div class="panels-container">
        <div class="panel left-panel">
          <div class="content">
            <h3>Banana Ripeness Detection</h3>
            <p>Banana ripeness detection using a trained AI and camera helps automatically classify bananas based on their ripeness level. By analyzing visual features such as color and texture, the AI model can accurately detect whether a banana is unripe, ripe, or overripe, improving efficiency and reducing human error in the sorting process.</p>
            <button class="btn transparent" id="sign-up-btn">New here? </button>
          </div>
        </div>

        <div class="panel right-panel">
          <div class="content">
            <h3>Banana Ripeness Detection </h3>
            <p>Banana ripeness detection using a trained AI and camera helps automatically classify bananas based on their ripeness level. By analyzing visual features such as color and texture, the AI model can accurately detect whether a banana is unripe, ripe, or overripe, improving efficiency and reducing human error in the sorting process.</p>
            <button class="btn transparent" id="sign-in-btn">One of us? </button>
          </div>
        </div>
      </div>
    </div>

    <div class="developers-section">
        <div class="developers-label">Group of:</div>
        <div class="developers-circles">
            <div class="developer-circle">NI</div>
            <div class="developer-circle">AU</div>
            <div class="developer-circle">RE</div>
            <div class="developer-circle">MA</div>
            <div class="developer-circle">AG</div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        // Auto-dismiss flash messages after 5 seconds
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                var messages = document.querySelectorAll('.flash-message');
                messages.forEach(function(message) {
                    message.style.opacity = '0';
                    message.style.transform = 'translateY(-20px)';
                    setTimeout(function() {
                        message.remove();
                    }, 500);
                });
            }, 5000);

            // Add animation for developers section
            const developersSection = document.querySelector('.developers-section');
            const signInBtn = document.getElementById('sign-in-btn');
            const signUpBtn = document.getElementById('sign-up-btn');
            const container = document.querySelector('.container');

            function animateDevelopers() {
                developersSection.classList.add('move-down');
                // Wait for the form transition to complete (1.8s) before moving back up
                setTimeout(() => {
                    developersSection.classList.remove('move-down');
                }, 1800);
            }

            if (signInBtn && signUpBtn && container) {
                signInBtn.addEventListener('click', animateDevelopers);
                signUpBtn.addEventListener('click', animateDevelopers);
            }
        });
    </script>
  </body>
</html>
